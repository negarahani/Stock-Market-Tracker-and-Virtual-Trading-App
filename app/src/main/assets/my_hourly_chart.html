<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Charts Tab</title>
  <!-- Include necessary libraries -->
<!--  <script src="https://code.highcharts.com/highcharts.js"></script>-->
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.highcharts.com/stock/indicators/indicators.js"></script>
  <script src="https://code.highcharts.com/stock/indicators/volume-by-price.js"></script>
  <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/stock/modules/accessibility.js"></script>
</head>
<body>

<div class="container col-lg-10" style="margin-top: 10px;">
  <div id="chartContainer" style="height: 350px;"></div>
</div>

<script>


  // A function to create the chart

      console.log("Hourly chart JS is working");



  function createHourlyChart(resultsData) {

      console.log("createHourlyChart was called");
      console.log("Received data:", resultsData);

      // Parse the JSON string into an array of objects
      const dataArray = resultsData;

      // creating ohlc and volume arrays
      const priceArray = [];
     


      dataArray.forEach((item) => {
          priceArray.push([
              item.t, 
              item.c  
          ]);
      });

      Highcharts.stockChart('chartContainer',{
      title: {
        text: `AAPL Hourly Price Variation` 
      },
      rangeSelector: {
        enabled: false 
      },
      navigator: {
        enabled: false 
      },
      chart: {
        backgroundColor: '#F5F5F5'
      },
      series: [{
        type: 'line',
        //name: `${this.searchService.searchedTicker}`,
        data: priceArray,
        //color: lineColor
      }]
    });
  
  }



</script>

</body>
</html>
