<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Charts Tab</title>
  <!-- Include necessary libraries -->
<!--  <script src="https://code.highcharts.com/highcharts.js"></script>-->
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.highcharts.com/stock/indicators/indicators.js"></script>
  <script src="https://code.highcharts.com/stock/indicators/volume-by-price.js"></script>
  <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/stock/modules/accessibility.js"></script>
</head>
<body>

<div class="container col-lg-10" style="margin-top: 10px;">
  <div id="chartContainer" style="height: 350px;"></div>
</div>

<script>


  // A function to create the chart

      console.log("Hourly chart JS is working");



  function createHourlyChart(resultsData, curTicker, chartColor) {

      console.log("createHourlyChart was called");
      console.log("Received data:", resultsData);


      const dataArray = resultsData;

      // creating ohlc and volume arrays
      const priceArray = [];
     


      dataArray.forEach((item) => {
          priceArray.push([
              item.t, 
              item.c  
          ]);
      });

      Highcharts.stockChart('chartContainer',{
      title: {
        text: curTicker + ' Hourly Price Variation'
      },
      rangeSelector: {
        enabled: false 
      },
      navigator: {
        enabled: false 
      },
      chart: {
        backgroundColor: '#FFFFFF'
      },
      series: [{
        type: 'line',
        name: curTicker,
        data: priceArray,
        color: chartColor
      }]
    });
  
  }



</script>

</body>
</html>
